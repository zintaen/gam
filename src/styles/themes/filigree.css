/* ═══════════════════════════════════════════════════════════════
   Filigree Theme — Delicate metallic linework, midnight luxury
   Effects: diamond lattice SVG, fine inset border, metallic gradient shimmer,
            silver/gold thread on dark velvet, editorial elegance
   Ref: "Falling Fences" poster, Vespertine book, "House of Sky" — midnight
        blue with gold/silver filigree, intricate ornamental patterns
   ═══════════════════════════════════════════════════════════════ */

:root[data-style='filigree'][data-mode='dark'] {
    --color-bg: #08080e;
    --color-bg-gradient: none;
    --color-surface: #121218;
    --color-surface-hover: #1a1a22;
    --color-surface-raised: #16161e;
    --color-text: #c8c4b8;
    --color-text-secondary: #908880;
    --color-text-muted: #585450;
    --color-border: rgba(144, 136, 128, 0.1);
    --color-border-strong: rgba(144, 136, 128, 0.22);
    --color-primary: #b8a070;
    --color-primary-muted: rgba(184, 160, 112, 0.1);
    --color-accent: #7088a8;
    --color-accent-muted: rgba(112, 136, 168, 0.08);
    --color-success: #5a8a5a;
    --color-success-muted: rgba(90, 138, 90, 0.08);
    --color-warning: #c8a050;
    --color-warning-muted: rgba(200, 160, 80, 0.08);
    --color-danger: #904040;
    --color-danger-muted: rgba(144, 64, 64, 0.1);
    --color-info: #5878a8;
    --color-info-muted: rgba(88, 120, 168, 0.08);
    --color-focus: #b8a070;
    --color-scrollbar: #1a1a22;
    --color-scrollbar-hover: #908880;
    --color-selection-bg: rgba(184, 160, 112, 0.18);
    --color-selection-text: #c8c4b8;
    --color-badge-global-bg: rgba(112, 136, 168, 0.05);
    --color-badge-global-text: #7088a8;
    --color-badge-global-border: rgba(112, 136, 168, 0.12);
    --color-badge-local-bg: rgba(184, 160, 112, 0.05);
    --color-badge-local-text: #b8a070;
    --color-badge-local-border: rgba(184, 160, 112, 0.12);
    --color-scope-active-bg: #1a1a22;

    --theme-font-sans: 'Cormorant', serif;
    --theme-font-mono: 'JetBrains Mono', monospace;
    --theme-card-radius: 4px;
    --theme-card-shadow: 0 2px 12px rgba(0, 0, 0, 0.4), inset 0 0 0 1px rgba(184, 160, 112, 0.06);
    --theme-card-backdrop: none;
    --theme-btn-radius: 4px;
    --theme-row-hover-bg: rgba(184, 160, 112, 0.03);
}

:root[data-style='filigree'][data-mode='light'] {
    --color-bg: #f8f6f0;
    --color-bg-gradient: none;
    --color-surface: #f0ece2;
    --color-surface-hover: #e8e4d8;
    --color-surface-raised: #f5f2ea;
    --color-text: #222018;
    --color-text-secondary: #4a4838;
    --color-text-muted: #7a7868;
    --color-border: rgba(74, 72, 56, 0.08);
    --color-border-strong: rgba(74, 72, 56, 0.18);
    --color-primary: #7a6838;
    --color-primary-muted: rgba(122, 104, 56, 0.06);
    --color-accent: #4a6078;
    --color-accent-muted: rgba(74, 96, 120, 0.06);
    --color-success: #3a6a3a;
    --color-success-muted: rgba(58, 106, 58, 0.06);
    --color-warning: #907828;
    --color-warning-muted: rgba(144, 120, 40, 0.06);
    --color-danger: #783030;
    --color-danger-muted: rgba(120, 48, 48, 0.05);
    --color-info: #3a5878;
    --color-info-muted: rgba(58, 88, 120, 0.06);
    --color-focus: #7a6838;
    --color-scrollbar: #e8e4d8;
    --color-scrollbar-hover: #7a7868;
    --color-selection-bg: rgba(122, 104, 56, 0.12);
    --color-selection-text: #222018;
    --color-badge-global-bg: rgba(74, 96, 120, 0.04);
    --color-badge-global-text: #4a6078;
    --color-badge-global-border: rgba(74, 96, 120, 0.1);
    --color-badge-local-bg: rgba(122, 104, 56, 0.04);
    --color-badge-local-text: #7a6838;
    --color-badge-local-border: rgba(122, 104, 56, 0.1);
    --color-scope-active-bg: #f0ece2;

    --theme-font-sans: 'Cormorant', serif;
    --theme-font-mono: 'JetBrains Mono', monospace;
    --theme-card-radius: 4px;
    --theme-card-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);
    --theme-card-backdrop: none;
    --theme-btn-radius: 4px;
    --theme-row-hover-bg: rgba(122, 104, 56, 0.02);
}

/* ── Filigree body — diamond lattice + ornamental curves ─── */
:root[data-style='filigree'][data-mode='dark'] body {
    background-color: var(--color-bg);
    background-image:
        url("data:image/svg+xml,%3Csvg width='50' height='50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M25 0L50 25L25 50L0 25Z' fill='none' stroke='%23b8a070' stroke-width='.25' opacity='.04'/%3E%3Ccircle cx='25' cy='25' r='2' fill='none' stroke='%23b8a070' stroke-width='.2' opacity='.03'/%3E%3C/svg%3E"),
        radial-gradient(circle 300px at 50% 30%, rgba(112, 136, 168, 0.02) 0%, transparent 100%);
}

:root[data-style='filigree'][data-mode='light'] body {
    background-color: var(--color-bg);
    background-image: url("data:image/svg+xml,%3Csvg width='50' height='50' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M25 0L50 25L25 50L0 25Z' fill='none' stroke='%237a6838' stroke-width='.25' opacity='.035'/%3E%3Ccircle cx='25' cy='25' r='2' fill='none' stroke='%237a6838' stroke-width='.2' opacity='.025'/%3E%3C/svg%3E");
}

/* ── Filigree card — fine inset metallic line ─── */
:root[data-style='filigree'] .theme-card {
    border-radius: var(--theme-card-radius);
    box-shadow: var(--theme-card-shadow);
    border: 1px solid var(--color-border-strong);
    backdrop-filter: none;
}

:root[data-style='filigree'] .theme-card:hover {
    box-shadow:
        var(--theme-card-shadow),
        inset 0 0 0 1px var(--color-primary);
    border-color: var(--color-primary);
}

/* ── Metallic shimmer button ─── */
:root[data-style='filigree'][data-mode='dark'] .theme-btn-primary {
    background: linear-gradient(135deg, #706040, #a08858, #c8b078, #a08858, #706040);
    background-size: 200% 100%;
    animation: goldShimmer 3s ease infinite;
    border: 1px solid rgba(184, 160, 112, 0.2);
    border-radius: var(--theme-btn-radius);
    color: #08080e;
    font-weight: 700;
}

:root[data-style='filigree'][data-mode='light'] .theme-btn-primary {
    background: linear-gradient(135deg, #605030, #887048, #a08858, #887048, #605030);
    background-size: 200% 100%;
    animation: goldShimmer 3s ease infinite;
    border: 1px solid rgba(100, 80, 40, 0.15);
    border-radius: var(--theme-btn-radius);
    color: #f8f6f0;
    font-weight: 700;
}

@keyframes goldShimmer {
    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

/* ── Silver-gold metallic accent strip ─── */
:root[data-style='filigree'][data-mode='dark'] .theme-gradient-accent {
    background: linear-gradient(90deg, #484040, #7088a8, #b8a070, #c8b888, #b8a070, #7088a8, #484040);
    background-size: 300% 100%;
    animation: gradientShift 5s ease infinite;
}

:root[data-style='filigree'][data-mode='light'] .theme-gradient-accent {
    background: linear-gradient(90deg, #505040, #7a6838, #a09060, #b8a878, #a09060, #7a6838, #505040);
    background-size: 300% 100%;
    animation: gradientShift 5s ease infinite;
}

:root[data-style='filigree'] .nb-margin-line {
    display: none;
}
